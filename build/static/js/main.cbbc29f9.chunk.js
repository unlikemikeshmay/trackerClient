(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{194:function(e,t,n){"use strict";n.r(t);var a,c=n(0),r=n.n(c),i=n(33),s=n.n(i),o=n(45),u=n(53),l=n(143),d=(n(169),Object(u.c)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_USERS":return t.payload;default:return e}},Authenticated:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AUTH":return t.payload;default:return e}},jwt:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_JWT":return t.payload;default:return e}},login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_USER":return t.payload;default:return e}}})),j=n(85),h=n(86),p=n(80),b=n(111),f=n(105),O=n(147),g=n(10),x=n(24),v=n.n(x),m=n(58),y=n(144),w=n.n(y).a.create({baseURL:"https://safe-sands-61399.herokuapp.com"}),k=n(145),A=function(e,t){return function(){var n=Object(m.a)(v.a.mark((function n(a,c){return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a(S(e,t));case 2:return n.next=4,a(T(c().login));case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},S=function(e,t){return function(){var n=Object(m.a)(v.a.mark((function n(c){var r;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("email inside login user: ".concat(e,", passord: ").concat(t)),n.next=3,w.post("/login",{email:e,password:t,headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 3:r=n.sent,a=r.data,r.data,console.log(" shoutout: ".concat(a)),c({type:"LOGIN_USER",payload:r.data});case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},T=function(e){return function(){var t=Object(m.a)(v.a.mark((function t(n){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:"user doesn't exist:"==e?n({type:"SET_AUTH",payload:e}):(a=Object(k.a)(e),console.log(a),n({type:"SET_AUTH",payload:a}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},N=function(){return function(){var e=Object(m.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.get("/get-token");case 2:n=e.sent,t({type:"FETCH_JWT",payload:n.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},C=(n(135),n(8)),E=function(e){Object(b.a)(n,e);var t=Object(f.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"componentDidMount",value:function(){}},{key:"renderPostsList",value:function(){return Object(C.jsx)("div",{children:"hi"})}},{key:"render",value:function(){return Object(C.jsx)("div",{className:"ui relaxed divided list",children:this.renderPostsList()})}}]),n}(c.Component),L=Object(o.b)((function(e){return{jwt:e.jwt}}),{fetchJWT:N})(E),U=n(206),_=function(e){return Object(C.jsxs)("div",{className:"ui small menu",children:[Object(C.jsx)("p",{className:"active item",children:"Home"}),Object(C.jsx)("p",{className:"item",children:"Tools"}),Object(C.jsx)("p",{className:"item",children:"Users"}),Object(C.jsx)("p",{className:"item",children:"Lookup"}),Object(C.jsxs)("div",{className:"right menu",children:[Object(C.jsx)(U.a,{className:"ui dropdown item",text:"...",children:Object(C.jsxs)(U.a.Menu,{children:[Object(C.jsxs)("p",{children:[" ",e.user]}),Object(C.jsx)(U.a.Item,{text:"Add User"}),Object(C.jsx)(U.a.Item,{text:"Add Tool"}),Object(C.jsx)(U.a.Item,{text:"Print"})]})}),Object(C.jsx)("div",{className:"item",children:Object(C.jsx)("div",{onClick:function(){return e.killSession()},className:"ui  button",children:"Sign Out"})})]})]})},F=n(123),H=n(210),I=n(211),P=n(207),J=n(212),R=n(208),W=Object(o.b)((function(e){return{login:e.login,Authenticated:e.Authenticated}}),{setLogin:A,setValidation:T})((function(e){var t=Object(c.useState)(""),n=Object(F.a)(t,2),a=n[0],r=n[1],i=Object(c.useState)(""),s=Object(F.a)(i,2),o=s[0],u=s[1];return Object(c.useEffect)((function(){}),[a]),Object(C.jsx)(H.a,{textAlign:"center",style:{height:"100vh"},verticalAlign:"middle",children:Object(C.jsxs)(H.a.Column,{style:{maxWidth:450},children:[Object(C.jsx)(I.a,{as:"h1",color:"black",textAlign:"center",children:"Tracker"}),Object(C.jsx)(I.a,{as:"h2",color:"teal",textAlign:"center",children:" Log-in to your account"}),Object(C.jsx)(P.a,{size:"large",children:Object(C.jsxs)(J.a,{stacked:!0,children:[Object(C.jsx)(P.a.Input,{value:a,fluid:!0,icon:"user",iconPosition:"left",placeholder:"E-mail address",onChange:function(e){return r(e.target.value)}}),Object(C.jsx)(P.a.Input,{fluid:!0,icon:"lock",iconPosition:"left",placeholder:"Password",type:"password",value:o,onChange:function(e){return u(e.target.value)}}),Object(C.jsx)(R.a,{onClick:function(t){return function(t){t.preventDefault(),""!=a&&""!=o?(e.setLogin(a,o),console.log("props.Authenticated inside login: ".concat(e.Authenticated.user)),a==e.Authenticated.user&&(console.log("update app"),console.log("state user: ".concat(a,", props.Authenticated.user: ").concat(e.Authenticated.user)),e.update(e.Authenticated.exp))):console.log("not set"),r(""),u("")}(t)},color:"teal",fluid:!0,size:"large",children:"Login"})]})})]})})})),D=function(e){Object(b.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(j.a)(this,n),(a=t.call(this,e)).state={flag:!1,auth:null},a.disableFlag=a.disableFlag.bind(Object(p.a)(a)),a.updateState=a.updateState.bind(Object(p.a)(a)),a}return Object(h.a)(n,[{key:"updateState",value:function(e){console.log("flag before ".concat(this.state.flag)),this.setState({auth:e,flag:!0}),console.log("flag after ".concat(this.state.flag))}},{key:"disableFlag",value:function(){this.setState({auth:null,flag:!1})}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return Object(C.jsx)("div",{className:"ui container",children:Object(C.jsx)(O.a,{children:this.state.flag?Object(C.jsxs)("div",{children:[" ",Object(C.jsx)(_,{killSession:this.disableFlag,user:this.props.Authenticated.user}),Object(C.jsx)("div",{children:Object(C.jsx)(g.a,{path:"/",component:L})})]}):Object(C.jsxs)("div",{children:[Object(C.jsx)(W,{update:this.updateState})," "]})})})}}]),n}(r.a.Component),M=Object(o.b)((function(e){return{Authenticated:e.Authenticated,jwt:e.jwt,login:e.login}}),{setValidation:T,setLogin:A})(D),z=Object(u.d)(d,Object(u.a)(l.a));s.a.render(Object(C.jsx)(o.a,{store:z,children:Object(C.jsx)(M,{})}),document.querySelector("#root"))}},[[194,1,2]]]);
//# sourceMappingURL=main.cbbc29f9.chunk.js.map